# PRD: 공학용 전자계산기 웹앱

## 1. 프로젝트 개요

### 1.1 목적
모던하고 직관적인 UI/UX를 갖춘 공학용 전자계산기 웹 애플리케이션을 개발하여, 사용자가 기본 산술 연산부터 고급 공학 함수까지 쉽게 사용할 수 있도록 한다.

### 1.2 목표
- 다크모드를 지원하는 세련된 디자인 제공
- 반응형 레이아웃으로 다양한 디바이스 지원
- 기본 계산기와 공학용 계산기 기능 통합
- 직관적인 사용자 경험 제공

### 1.3 타겟 사용자
- 학생 (중/고등학생, 대학생)
- 엔지니어 및 연구원
- 일반 사용자 (기본 계산 필요)

---

## 2. 기능 요구사항

### 2.1 핵심 기능

#### 2.1.1 기본 계산 기능
- **사칙연산**: 덧셈(+), 뺄셈(-), 곱셈(×), 나눗셈(÷)
- **소수점 계산**: 소수점 입력 및 계산
- **백분율 계산**: % 연산
- **부호 변경**: +/- 토글
- **전체 지우기**: AC (All Clear)
- **실시간 계산 결과 표시**

#### 2.1.2 공학용 함수
- **삼각함수**: sin, cos, tan
- **각도 모드**: deg (도), rad (라디안), grad (그라디안)
- **지수/로그**: x^y (거듭제곱), log (상용로그), ln (자연로그)
- **괄호 연산**: ( ) 괄호를 이용한 우선순위 계산
- **2nd 기능**: 역삼각함수 및 추가 함수 (sin⁻¹, cos⁻¹, tan⁻¹ 등)

#### 2.1.3 디스플레이 기능
- **수식 표시**: 입력 중인 수식을 상단에 표시
- **결과 표시**: 큰 폰트로 계산 결과 표시
- **천 단위 구분**: 숫자에 쉼표 표시 (예: 1,234.56)
- **실시간 업데이트**: 입력에 따른 즉각적인 화면 갱신

### 2.2 부가 기능

#### 2.2.1 히스토리 기능
- 이전 계산 기록 저장
- 히스토리 조회 및 재사용
- 히스토리 삭제

#### 2.2.2 설정 기능
- 다크모드/라이트모드 전환
- 각도 단위 설정 (도/라디안)
- 소수점 자릿수 설정
- 사운드 효과 on/off

#### 2.2.3 모드 전환
- Scientific (공학용) 모드
- Basic (기본) 모드
- 모드 전환 시 UI 변경

---

## 3. UI/UX 디자인 요구사항

### 3.1 디자인 시스템

#### 3.1.1 컬러 팔레트

**라이트 모드:**
- Primary: `#135bec` (파란색)
- Background: `#f6f6f8` (밝은 회색)
- Surface: `#ffffff` (흰색)
- Text Primary: `#1e293b` (어두운 회색)
- Text Secondary: `#64748b` (중간 회색)

**다크 모드:**
- Primary: `#135bec` (파란색)
- Background: `#101622` (매우 어두운 파란 회색)
- Surface Dark: `#232f48` (어두운 파란 회색)
- Surface Darker: `#1a2336` (더 어두운 파란 회색)
- Text Primary: `#ffffff` (흰색)
- Text Secondary: `#92a4c9` (밝은 파란 회색)

#### 3.1.2 타이포그래피
- **폰트 패밀리**: Inter (Google Fonts)
- **디스플레이 (결과)**: 
  - 크기: 3.75rem (60px)
  - 무게: 700 (Bold)
  - 줄 높이: Tight
- **수식 표시**:
  - 크기: 1.25rem (20px)
  - 무게: 400 (Regular)
- **버튼 텍스트**:
  - 크기: 1.5rem (24px) - 숫자
  - 크기: 1.125rem (18px) - 연산자
  - 무게: 600 (Semibold)

#### 3.1.3 간격 및 레이아웃
- **화면 패딩**: 1rem (16px)
- **버튼 간격**: 0.75rem (12px)
- **모서리 반경**: 
  - 버튼: 1.25rem (20px)
  - 키패드 영역: 2rem (32px)
  - 작은 버튼: 0.75rem (12px)

### 3.2 레이아웃 구조

#### 3.2.1 헤더 영역
- **위치**: 상단 고정
- **높이**: 약 60px
- **구성 요소**:
  - 좌측: 메뉴 아이콘, 모드 표시 (Scientific)
  - 우측: 히스토리 아이콘, 설정 아이콘
- **스타일**: 투명 배경, 아이콘은 회색 (호버 시 파란색)

#### 3.2.2 디스플레이 영역
- **위치**: 중앙 상단
- **구성**:
  - 수식 표시 (작은 텍스트, 회색)
  - 결과 표시 (큰 텍스트, 검정/흰색)
- **정렬**: 우측 정렬
- **여백**: 좌우 1.5rem, 하단 1.5rem

#### 3.2.3 키패드 영역
- **위치**: 하단
- **스타일**: 
  - 배경: 흰색 (라이트) / 어두운 배경 (다크)
  - 상단 모서리 둥글게 (32px)
  - 그림자 효과 (라이트 모드)
- **구성**:
  - 드래그 핸들 (상단 중앙 바)
  - 공학 함수 그리드 (5열 × 2행)
  - 메인 키패드 그리드 (4열 × 5행)

### 3.3 버튼 디자인

#### 3.3.1 버튼 유형

**숫자 버튼 (0-9, .):**
- 배경: 흰색 (라이트) / `#1a2336` (다크)
- 텍스트: 검정 / 흰색
- 크기: 72px × 72px
- 그림자: 약한 그림자 (라이트 모드)
- 특수: 0 버튼은 2열 너비

**연산자 버튼 (+, -, ×, ÷):**
- 배경: `#135bec` 20% 투명도 / `#232f48` (다크)
- 텍스트: `#135bec` (파란색)
- 아이콘: Material Symbols Outlined
- 호버: 배경 `#135bec`, 텍스트 흰색

**기능 버튼 (AC, +/-, %):**
- 배경: `#e5e7eb` (라이트) / `#232f48` (다크)
- 텍스트: `#135bec` (파란색)
- 스타일: 연산자 버튼과 유사

**공학 함수 버튼 (sin, cos, log 등):**
- 배경: `#f3f4f6` (라이트) / `#1a2336` (다크)
- 텍스트: 회색 / `#92a4c9`
- 크기: 높이 40px
- 폰트 크기: 0.75rem (12px)

**등호 버튼 (=):**
- 배경: `#135bec` (파란색)
- 텍스트: 흰색
- 그림자: 파란색 글로우 효과
- 크기: 72px × 72px

#### 3.3.2 인터랙션
- **호버**: 밝기 증가 (110%)
- **클릭**: 스케일 감소 (95%)
- **전환**: 모든 효과 부드럽게 (transition-all)

### 3.4 반응형 디자인
- **최대 너비**: 448px (모바일 최적화)
- **중앙 정렬**: 큰 화면에서 중앙 배치
- **최소 높이**: 884px 또는 100dvh
- **스크롤**: 필요 시 공학 함수 영역 가로 스크롤

---

## 4. 기술 요구사항

### 4.1 프론트엔드 기술 스택
- **HTML5**: 시맨틱 마크업
- **CSS3**: 
  - Tailwind CSS (유틸리티 우선 프레임워크)
  - 커스텀 CSS (스크롤바 숨김 등)
- **JavaScript**: 
  - Vanilla JS 또는 React/Vue
  - 계산 로직 구현
  - 상태 관리

### 4.2 외부 라이브러리
- **폰트**: 
  - Google Fonts (Inter)
  - Material Symbols Outlined (아이콘)
- **Tailwind CSS**: CDN 또는 npm 설치
- **수식 파싱**: Math.js 또는 자체 구현

### 4.3 브라우저 호환성
- Chrome (최신 버전)
- Firefox (최신 버전)
- Safari (최신 버전)
- Edge (최신 버전)
- 모바일 브라우저 (iOS Safari, Chrome Mobile)

### 4.4 성능 요구사항
- **초기 로딩 시간**: 2초 이내
- **버튼 반응 시간**: 50ms 이내
- **계산 처리 시간**: 100ms 이내
- **애니메이션**: 60fps 유지

---

## 5. 기능 명세

### 5.1 계산 로직

#### 5.1.1 입력 처리
```
사용자 입력 → 유효성 검사 → 수식 구성 → 화면 업데이트
```

#### 5.1.2 계산 처리
```
수식 파싱 → 우선순위 계산 → 결과 도출 → 포맷팅 → 화면 표시
```

#### 5.1.3 에러 처리
- 0으로 나누기: "Error" 표시
- 잘못된 수식: "Invalid" 표시
- 오버플로우: "Overflow" 표시
- 언더플로우: 0으로 처리

### 5.2 상태 관리

#### 5.2.1 애플리케이션 상태
- `currentInput`: 현재 입력 중인 값
- `previousInput`: 이전 입력 값
- `operation`: 현재 연산자
- `displayValue`: 화면에 표시되는 값
- `equation`: 수식 문자열
- `mode`: 각도 모드 (deg/rad/grad)
- `theme`: 테마 (light/dark)

#### 5.2.2 로컬 스토리지
- 히스토리 저장
- 설정 저장 (테마, 각도 모드 등)
- 마지막 계산 결과 저장

### 5.3 이벤트 처리

#### 5.3.1 버튼 클릭
- 숫자 버튼: 입력 추가
- 연산자 버튼: 연산 설정
- 등호 버튼: 계산 실행
- AC 버튼: 전체 초기화
- 기능 버튼: 해당 기능 실행

#### 5.3.2 키보드 입력
- 숫자 키 (0-9): 숫자 입력
- 연산자 키 (+, -, *, /): 연산자 입력
- Enter: 계산 실행
- Escape: 전체 초기화
- Backspace: 마지막 입력 삭제

---

## 6. 사용자 시나리오

### 6.1 기본 계산 시나리오
1. 사용자가 앱을 실행
2. "1200" 입력
3. "+" 버튼 클릭
4. "34.56" 입력
5. "=" 버튼 클릭
6. 결과 "1,234.56" 표시

### 6.2 공학 계산 시나리오
1. 사용자가 Scientific 모드 확인
2. "sin" 버튼 클릭
3. "30" 입력
4. "=" 버튼 클릭
5. 결과 "0.5" 표시 (deg 모드)

### 6.3 히스토리 사용 시나리오
1. 여러 계산 수행
2. 히스토리 아이콘 클릭
3. 이전 계산 목록 확인
4. 특정 계산 선택
5. 해당 수식 재사용

---

## 7. 비기능 요구사항

### 7.1 사용성
- 직관적인 버튼 배치
- 명확한 시각적 피드백
- 일관된 디자인 언어
- 접근성 고려 (ARIA 레이블)

### 7.2 성능
- 빠른 응답 시간
- 부드러운 애니메이션
- 메모리 효율성
- 배터리 효율성 (모바일)

### 7.3 보안
- XSS 방지
- 입력 유효성 검사
- 안전한 수식 평가

### 7.4 유지보수성
- 모듈화된 코드 구조
- 명확한 주석
- 테스트 코드 작성
- 버전 관리

---

## 8. 개발 단계

### 8.1 Phase 1: 기본 구조 (1주)
- [ ] HTML 마크업 작성
- [ ] CSS 스타일링 (Tailwind 설정)
- [ ] 기본 레이아웃 구현
- [ ] 다크모드 구현

### 8.2 Phase 2: 기본 계산기 (1주)
- [ ] 숫자 입력 처리
- [ ] 사칙연산 구현
- [ ] 디스플레이 업데이트
- [ ] AC, +/-, % 기능 구현

### 8.3 Phase 3: 공학 함수 (1주)
- [ ] 삼각함수 구현
- [ ] 로그/지수 함수 구현
- [ ] 각도 모드 전환
- [ ] 괄호 연산 구현

### 8.4 Phase 4: 부가 기능 (1주)
- [ ] 히스토리 기능
- [ ] 설정 기능
- [ ] 키보드 입력 지원
- [ ] 로컬 스토리지 연동

### 8.5 Phase 5: 테스트 및 최적화 (1주)
- [ ] 단위 테스트 작성
- [ ] 통합 테스트
- [ ] 성능 최적화
- [ ] 브라우저 호환성 테스트

---

## 9. 성공 지표

### 9.1 기술적 지표
- 모든 계산 기능 정상 작동
- 버그 없는 안정적인 동작
- 모든 브라우저에서 정상 작동
- 성능 요구사항 충족

### 9.2 사용자 경험 지표
- 직관적인 UI/UX
- 빠른 응답 속도
- 일관된 디자인
- 접근성 준수

---

## 10. 참고 자료

### 10.1 디자인 참고
- 제공된 `screen.png`: UI 디자인 레퍼런스
- 제공된 `code.html`: 구현 코드 레퍼런스

### 10.2 기술 문서
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [Material Symbols](https://fonts.google.com/icons)
- [Math.js Documentation](https://mathjs.org/docs/)
- [MDN Web Docs](https://developer.mozilla.org/)

---

## 11. 향후 확장 가능성

### 11.1 추가 기능
- 그래프 그리기 기능
- 단위 변환 기능
- 통계 계산 기능
- 프로그래머 모드 (진법 변환)

### 11.2 플랫폼 확장
- PWA (Progressive Web App) 변환
- 모바일 앱 (React Native)
- 데스크톱 앱 (Electron)

### 11.3 협업 기능
- 계산 공유 기능
- 클라우드 동기화
- 다국어 지원

---

## 부록 A: 버튼 레이아웃

### 공학 함수 그리드 (5×2)
```
[2nd] [deg] [sin] [cos] [tan]
[xʸ]  [log] [ln]  [(]   [)]
```

### 메인 키패드 그리드 (4×5)
```
[AC]  [+/-] [%]   [÷]
[7]   [8]   [9]   [×]
[4]   [5]   [6]   [-]
[1]   [2]   [3]   [+]
[0  (2열)]  [.]   [=]
```

---

## 부록 B: 색상 코드 정리

| 용도 | 라이트 모드 | 다크 모드 |
|------|------------|----------|
| Primary | `#135bec` | `#135bec` |
| Background | `#f6f6f8` | `#101622` |
| Surface | `#ffffff` | `#232f48` |
| Surface Alt | `#f3f4f6` | `#1a2336` |
| Text Primary | `#1e293b` | `#ffffff` |
| Text Secondary | `#64748b` | `#92a4c9` |
| Button Number | `#ffffff` | `#1a2336` |
| Button Operator | `rgba(19,91,236,0.2)` | `#232f48` |
| Button Function | `#e5e7eb` | `#232f48` |
| Button Scientific | `#f3f4f6` | `#1a2336` |

---

**문서 버전**: 1.0  
**작성일**: 2025-12-23  
**작성자**: AI Assistant  
**승인 상태**: 검토 대기
